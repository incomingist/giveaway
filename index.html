<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Giveaway Entry</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
:root{
  --bg0:#070a12;
  --bg1:#09122a;
  --glass: rgba(255,255,255,.06);
  --glass2: rgba(255,255,255,.045);
  --line: rgba(255,255,255,.12);
  --txt:#ffffff;
  --muted: rgba(255,255,255,.72);
  --glow: rgba(13,110,253,.28);
  --good: rgba(25,135,84,1);
}

body{
  min-height:100vh;
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(13,110,253,.22), transparent 55%),
    radial-gradient(1000px 700px at 90% 30%, rgba(25,135,84,.16), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg0));
  color: var(--txt);
}

body, .card, label, p, span, div, h1,h2,h3,h4,h5,h6, small{
  color:#fff !important;
}

.small-muted{ color: var(--muted) !important; }

.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:12px;
}

.brand{
  display:flex;
  justify-content:center;
  margin: 10px 0 18px;
}
.brand img{
  height:108px;
  filter: drop-shadow(0 18px 22px rgba(0,0,0,.45));
  border-radius:14px;
}

.card{
  background: var(--glass2);
  border: 1px solid rgba(255,255,255,.10);
  border-radius:22px;
  backdrop-filter: blur(14px);
  box-shadow:0 22px 70px rgba(0,0,0,.45);
}

.form-control, .form-select, .input-group-text{
  background: rgba(255,255,255,.07) !important;
  border-color: rgba(255,255,255,.14) !important;
  color:#fff !important;
}
.form-control::placeholder{ color: rgba(255,255,255,.55) !important; }

.form-control:focus, .form-select:focus{
  border-color: rgba(13,110,253,.55) !important;
  box-shadow: 0 0 0 .22rem var(--glow) !important;
}

.btn{ border-radius:14px; }

.tick-wrap{
  width:132px; height:132px;
  border-radius:999px;
  display:grid; place-items:center;
  background: rgba(25,135,84,.12);
  border:1px solid rgba(25,135,84,.38);
  margin-inline:auto;
}

svg.tick{ width:92px; height:92px; }
.tick circle{
  stroke: var(--good);
  stroke-width:6;
  fill:none;
  stroke-dasharray:260;
  stroke-dashoffset:260;
  animation:drawCircle .7s ease forwards;
}
.tick path{
  stroke: var(--good);
  stroke-width:7;
  fill:none;
  stroke-linecap:round;
  stroke-linejoin:round;
  stroke-dasharray:90;
  stroke-dashoffset:90;
  animation:drawTick .55s .55s ease forwards;
}
@keyframes drawCircle { to { stroke-dashoffset:0; } }
@keyframes drawTick { to { stroke-dashoffset:0; } }

.code-box{
  font-family: monospace;
  letter-spacing:.9px;
  background: rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.16);
  border-radius:14px;
  padding:12px 14px;
  color:#fff !important;
  font-weight:700;
}

.hidden{ display:none !important; }
</style>
</head>

<body class="d-flex align-items-center">
<main class="container py-5" style="max-width:800px;">

<div class="topbar">
  <div class="small-muted" data-i18n="powered">Giveaway</div>
  <div class="btn-group">
    <button id="langEN" class="btn btn-sm btn-outline-light">EN</button>
    <button id="langRU" class="btn btn-sm btn-outline-light">RU</button>
  </div>
</div>

<div class="brand">
  <img src="logo.png" alt="Company Logo">
</div>

<!-- FORM -->
<section id="formPage" class="card p-4 p-md-5">
<form id="joinForm" novalidate autocomplete="off">

<div class="mb-3">
<label class="form-label" data-i18n="fullNameLabel">Full Name</label>
<input id="fullName" name="fullName" autocomplete="off"
       class="form-control form-control-lg"
       data-i18n-ph="fullNamePh"
       placeholder="e.g., John Smith" required minlength="3"/>
<div class="invalid-feedback" data-i18n="nameInvalid"></div>
</div>

<div class="mb-3">
<label class="form-label" data-i18n="phoneLabel">Phone Number</label>
<div class="input-group input-group-lg">
<select id="countryCode" class="form-select" style="max-width:210px;">
<option value="+90" selected>ðŸ‡¹ðŸ‡· +90 (TR)</option> 
  <option value="+998">ðŸ‡ºðŸ‡¿ +998 (UZ)</option> 
  <option value="+7">ðŸ‡·ðŸ‡º +7 (RU/KZ)</option> 
  <option value="+996">ðŸ‡°ðŸ‡¬ +996 (KG)</option> 
  <option value="+992">ðŸ‡¹ðŸ‡¯ +992 (TJ)</option> 
  <option value="+993">ðŸ‡¹ðŸ‡² +993 (TM)</option> 
  <option value="+994">ðŸ‡¦ðŸ‡¿ +994 (AZ)</option> 
  <option value="+995">ðŸ‡¬ðŸ‡ª +995 (GE)</option> 
  <option value="+380">ðŸ‡ºðŸ‡¦ +380 (UA)</option> 
  <option value="+375">ðŸ‡§ðŸ‡¾ +375 (BY)</option>
</select>
<input id="phone" name="phone" autocomplete="off"
       class="form-control"
       data-i18n-ph="phonePh"
       placeholder="digits only" required />
<div class="invalid-feedback" data-i18n="phoneInvalid"></div>
</div>
</div>

<div class="mb-4">
<label class="form-label" data-i18n="hotelLabel">Hotel Name</label>
<input id="hotel" name="hotel" autocomplete="off"
       class="form-control form-control-lg"
       data-i18n-ph="hotelPh"
       placeholder="e.g., Hilton Istanbul" required minlength="2"/>
<div class="invalid-feedback" data-i18n="hotelInvalid"></div>
</div>

<button id="submitBtn" class="btn btn-primary btn-lg w-100 fw-semibold"
        type="submit" data-i18n="submitBtn">Submit</button>

</form>
</section>

<!-- SUCCESS -->
<section id="successPage" class="card p-4 p-md-5 hidden">
<div class="text-center">
<div class="tick-wrap mb-3">
<svg class="tick" viewBox="0 0 100 100">
<circle cx="50" cy="50" r="41"></circle>
<path d="M28 52 L44 67 L73 36"></path>
</svg>
</div>

<h2 data-i18n="approvedTitle">Approved</h2>

<div class="text-start small-muted mb-2" data-i18n="kuraIdLabel">Giveaway ID</div>
<div class="d-flex gap-2">
<div id="kuraId" class="code-box flex-grow-1">â€”</div>
<button id="copyBtn" class="btn btn-success" data-i18n="copyBtn">Copy</button>
</div>

<button id="newBtn" class="btn btn-outline-light mt-4 w-100"
        data-i18n="newBtn">New Entry</button>
</div>
</section>

</main>

<script>
/* ================= CONFIG ================= */
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxCRsVqAWqY5Im1eaWjXYA9xnoYa1eF0afANBHUWlSWBfTGUyp2zj86uCSAKFRytsx2/exec";

/* ================= i18n ================= */
const i18n = {
en:{
powered:"Giveaway",
fullNameLabel:"Full Name",
fullNamePh:"e.g., John Smith",
phoneLabel:"Phone Number",
phonePh:"digits only",
hotelLabel:"Hotel Name",
hotelPh:"e.g., Hilton Istanbul",
submitBtn:"Submit",
approvedTitle:"Approved",
kuraIdLabel:"Giveaway ID",
copyBtn:"Copy",
newBtn:"New Entry",
nameInvalid:"Please enter your full name.",
phoneInvalid:"Please enter a valid phone number.",
hotelInvalid:"Please enter your hotel name."
},
ru:{
powered:"Ð Ð¾Ð·Ñ‹Ð³Ñ€Ñ‹Ñˆ",
fullNameLabel:"Ð˜Ð¼Ñ Ð¸ Ñ„Ð°Ð¼Ð¸Ð»Ð¸Ñ",
fullNamePh:"Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: John Smith",
phoneLabel:"ÐÐ¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°",
phonePh:"Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ†Ð¸Ñ„Ñ€Ñ‹",
hotelLabel:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾Ñ‚ÐµÐ»Ñ",
hotelPh:"Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: Hilton Istanbul",
submitBtn:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ",
approvedTitle:"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¾",
kuraIdLabel:"ID Ñ€Ð¾Ð·Ñ‹Ð³Ñ€Ñ‹ÑˆÐ°",
copyBtn:"ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",
newBtn:"ÐÐ¾Ð²Ð°Ñ Ð·Ð°ÑÐ²ÐºÐ°",
nameInvalid:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ Ð¸ Ñ„Ð°Ð¼Ð¸Ð»Ð¸ÑŽ.",
phoneInvalid:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ Ð½Ð¾Ð¼ÐµÑ€.",
hotelInvalid:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¾Ñ‚ÐµÐ»Ñ."
}
};

let lang="en";
function setLang(l){
lang=l;
document.querySelectorAll("[data-i18n]").forEach(el=>{
const k=el.dataset.i18n;
if(i18n[lang][k]) el.textContent=i18n[lang][k];
});
document.querySelectorAll("[data-i18n-ph]").forEach(el=>{
const k=el.dataset.i18nPh;
if(i18n[lang][k]) el.placeholder=i18n[lang][k];
});
}
document.getElementById("langEN").onclick=()=>setLang("en");
document.getElementById("langRU").onclick=()=>setLang("ru");
setLang("en");

/* ================= APP ================= */
const formPage=document.getElementById("formPage");
const successPage=document.getElementById("successPage");
const form=document.getElementById("joinForm");
const fullName=document.getElementById("fullName");
const phone=document.getElementById("phone");
const hotel=document.getElementById("hotel");
const kuraIdEl=document.getElementById("kuraId");

function normalizeDigits(v){return v.replace(/[^\d]/g,"");}
function isValidPhone(d){return d.length>=6 && d.length<=15;}

function makeKuraId(){
const a="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
const r=n=>Array.from({length:n},()=>a[Math.floor(Math.random()*a.length)]).join("");
return `KURA-${new Date().getFullYear()}-${r(4)}-${r(4)}`;
}

function showSuccess(){
formPage.classList.add("hidden");
successPage.classList.remove("hidden");
}

form.addEventListener("submit",e=>{
e.preventDefault();

const nameVal=fullName.value.trim();
const phoneDigits=normalizeDigits(phone.value);
const hotelVal=hotel.value.trim();

let ok=true;
if(nameVal.length<3){fullName.classList.add("is-invalid");ok=false;}
if(!isValidPhone(phoneDigits)){phone.classList.add("is-invalid");ok=false;}
if(hotelVal.length<2){hotel.classList.add("is-invalid");ok=false;}
if(!ok) return;

const kuraId=makeKuraId();
kuraIdEl.textContent=kuraId;

showSuccess();

fetch(WEB_APP_URL,{
method:"POST",
mode:"no-cors",
headers:{"Content-Type":"text/plain;charset=utf-8"},
body:JSON.stringify({
name:nameVal,
phone:phoneDigits,
countryCode:document.getElementById("countryCode").value,
hotel:hotelVal,
kuraId:kuraId
})
}).catch(()=>{});
});

document.getElementById("copyBtn").onclick=()=>{
navigator.clipboard.writeText(kuraIdEl.textContent);
};

document.getElementById("newBtn").onclick=()=>{
form.reset();
successPage.classList.add("hidden");
formPage.classList.remove("hidden");
};
</script>
</body>
</html>



<!-- redeploy -->


